---
/**
 * Home dinámico por idioma
 * URL: /es/, /en/, /fr/, /ca/, /pt-br/
 */
import HomePage from "@/templates/HomePage.astro";
import { supportedLangs, type Lang } from "@/config/pages";

// Generar rutas estáticas para cada idioma
export function getStaticPaths() {
  return supportedLangs.map((lang: Lang) => ({
    params: { lang },
  }));
}

// Obtener idioma de la URL
const { lang } = Astro.params as { lang: Lang };

// Validar idioma
if (!supportedLangs.includes(lang)) {
  return Astro.redirect("/es/");
}
---

<HomePage lang={lang} />
