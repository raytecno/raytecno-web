---
/**
 * Footer con soporte multiidioma y tema adaptativo m√≥vil
 * @component
 */
import { getPageUrl, type Lang } from "@/config/pages";
import { getTranslations } from "@/i18n";

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;
const t = getTranslations(lang);

// Textos del footer por idioma
const footerT = {
  es: {
    tagline: 'Software ERP especializado para la industria joyera',
    address: 'Barcelona, Espa√±a',
    modules: 'M√≥dulos',
    masters: 'Maestros',
    commercial: 'Comercial',
    manufacturing: 'Fabricaci√≥n',
    finance: 'Finanzas',
    company: 'Empresa',
    about: 'Sobre nosotros',
    technology: 'Tecnolog√≠a',
    pricing: 'Precios',
    contact: 'Contacto',
    legal: 'Legal',
    privacy: 'Privacidad',
    terms: 'T√©rminos',
    cookies: 'Cookies',
    copyright: 'Raytecno BCN SL. Todos los derechos reservados.',
    madeWith: 'Hecho con',
    forJewelers: 'para joyeros'
  },
  en: {
    tagline: 'Specialized ERP software for the jewelry industry',
    address: 'Barcelona, Spain',
    modules: 'Modules',
    masters: 'Masters',
    commercial: 'Commercial',
    manufacturing: 'Manufacturing',
    finance: 'Finance',
    company: 'Company',
    about: 'About us',
    technology: 'Technology',
    pricing: 'Pricing',
    contact: 'Contact',
    legal: 'Legal',
    privacy: 'Privacy',
    terms: 'Terms',
    cookies: 'Cookies',
    copyright: 'Raytecno BCN SL. All rights reserved.',
    madeWith: 'Made with',
    forJewelers: 'for jewelers'
  },
  fr: {
    tagline: 'Logiciel ERP sp√©cialis√© pour l\'industrie joailli√®re',
    address: 'Barcelone, Espagne',
    modules: 'Modules',
    masters: 'Ma√Ætres',
    commercial: 'Commercial',
    manufacturing: 'Fabrication',
    finance: 'Finances',
    company: 'Entreprise',
    about: '√Ä propos',
    technology: 'Technologie',
    pricing: 'Tarifs',
    contact: 'Contact',
    legal: 'L√©gal',
    privacy: 'Confidentialit√©',
    terms: 'Conditions',
    cookies: 'Cookies',
    copyright: 'Raytecno BCN SL. Tous droits r√©serv√©s.',
    madeWith: 'Fait avec',
    forJewelers: 'pour les bijoutiers'
  },
  ca: {
    tagline: 'Programari ERP especialitzat per a la ind√∫stria joiera',
    address: 'Barcelona, Espanya',
    modules: 'M√≤duls',
    masters: 'Mestres',
    commercial: 'Comercial',
    manufacturing: 'Fabricaci√≥',
    finance: 'Finances',
    company: 'Empresa',
    about: 'Sobre nosaltres',
    technology: 'Tecnologia',
    pricing: 'Preus',
    contact: 'Contacte',
    legal: 'Legal',
    privacy: 'Privacitat',
    terms: 'Termes',
    cookies: 'Cookies',
    copyright: 'Raytecno BCN SL. Tots els drets reservats.',
    madeWith: 'Fet amb',
    forJewelers: 'per a joiers'
  },
  'pt-br': {
    tagline: 'Software ERP especializado para a ind√∫stria joalheira',
    address: 'Barcelona, Espanha',
    modules: 'M√≥dulos',
    masters: 'Mestres',
    commercial: 'Comercial',
    manufacturing: 'Fabrica√ß√£o',
    finance: 'Finan√ßas',
    company: 'Empresa',
    about: 'Sobre n√≥s',
    technology: 'Tecnologia',
    pricing: 'Pre√ßos',
    contact: 'Contato',
    legal: 'Legal',
    privacy: 'Privacidade',
    terms: 'Termos',
    cookies: 'Cookies',
    copyright: 'Raytecno BCN SL. Todos os direitos reservados.',
    madeWith: 'Feito com',
    forJewelers: 'para joalheiros'
  }
};

const ft = footerT[lang] || footerT.es;
const currentYear = new Date().getFullYear();
---

<footer class="footer">
  <div class="footer-grid">
    <!-- Columna 1: Logo y descripci√≥n -->
    <div class="footer-col">
      <div class="footer-logo">
        <svg class="footer-icon" viewBox="0 0 40 40" fill="none">
          <path
            d="M20 2L37 12V28L20 38L3 28V12L20 2Z"
            fill="url(#grad-footer)"
            stroke="#fff"
            stroke-width="1"></path>
          <path
            d="M20 8L30 14V26L20 32L10 26V14L20 8Z"
            fill="rgba(255,255,255,0.3)"></path>
          <defs>
            <linearGradient id="grad-footer" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#667eea"></stop>
              <stop offset="100%" style="stop-color:#764ba2"></stop>
            </linearGradient>
          </defs>
        </svg>
        <h4>RAYGOLD</h4>
      </div>
      <p>{ft.tagline}</p>
      <p class="footer-address">üìç {ft.address}</p>
      <p class="footer-email">‚úâÔ∏è info@raytecno.es</p>
    </div>

    <!-- Columna 2: M√≥dulos -->
    <div class="footer-col">
      <h5>{ft.modules}</h5>
      <a href={getPageUrl('modulos/maestros', lang)}>{ft.masters}</a>
      <a href={getPageUrl('modulos/comercial', lang)}>{ft.commercial}</a>
      <a href={getPageUrl('modulos/fabricacion', lang)}>{ft.manufacturing}</a>
      <a href={getPageUrl('modulos/finanzas', lang)}>{ft.finance}</a>
    </div>

    <!-- Columna 3: Empresa -->
    <div class="footer-col">
      <h5>{ft.company}</h5>
      <a href={`/${lang}#porque`}>{ft.about}</a>
      <a href={getPageUrl('tecnologia', lang)}>{ft.technology}</a>
      <a href={getPageUrl('precios', lang)}>{ft.pricing}</a>
      <a href={getPageUrl('contacto', lang)}>{ft.contact}</a>
    </div>

    <!-- Columna 4: Legal -->
    <div class="footer-col">
      <h5>{ft.legal}</h5>
      <a href={`/${lang}/privacidad`}>{ft.privacy}</a>
      <a href={`/${lang}/terminos`}>{ft.terms}</a>
      <a href={`/${lang}/cookies`}>{ft.cookies}</a>
    </div>
  </div>

  <div class="footer-bottom">
    <p>¬© {currentYear} {ft.copyright}</p>
    <p class="made-with">{ft.madeWith} üíé {ft.forJewelers}</p>
  </div>
</footer>

<style>
  /* ============================================
     DESKTOP: Tema azul oscuro (default)
     ============================================ */
  .footer {
    background: #020617;
    color: white;
    border-top: 1px solid #334155;
  }

  .footer-grid {
    max-width: 1100px;
    margin: 0 auto;
    padding: 60px 24px;
    display: grid;
    grid-template-columns: 1.5fr 1fr 1fr 1fr;
    gap: 40px;
  }

  /* Columna principal */
  .footer-logo {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 16px;
  }

  .footer-icon {
    width: 36px;
    height: 36px;
  }

  .footer-logo h4 {
    font-size: 1.2rem;
    letter-spacing: 2px;
    margin: 0;
    font-family: "Inter", sans-serif;
  }

  .footer-col p {
    color: #94a3b8;
    font-size: 0.9rem;
    margin-bottom: 8px;
    line-height: 1.6;
  }

  .footer-address,
  .footer-email {
    font-size: 0.85rem !important;
    margin-top: 12px !important;
  }

  /* Columnas de enlaces */
  .footer-col h5 {
    font-size: 0.9rem;
    font-weight: 600;
    margin-bottom: 16px;
    color: white;
  }

  .footer-col a {
    display: block;
    color: #94a3b8;
    font-size: 0.9rem;
    margin-bottom: 10px;
    transition: all 0.2s;
    text-decoration: none;
  }

  .footer-col a:hover {
    color: white;
    transform: translateX(4px);
  }

  /* Footer bottom */
  .footer-bottom {
    text-align: center;
    padding: 20px;
    border-top: 1px solid #1e293b;
    font-size: 0.85rem;
    color: #64748b;
  }

  .made-with {
    margin-top: 8px;
    font-size: 0.8rem;
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .footer-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  /* ============================================
     M√ìVIL: Tema blanco claro
     ============================================ */
  @media (max-width: 768px) {
    .footer {
      background: #f8fafc;
      color: #1e293b;
      border-top: 1px solid #e2e8f0;
    }

    .footer-grid {
      grid-template-columns: 1fr;
      text-align: center;
      gap: 32px;
      padding: 40px 24px;
    }

    .footer-logo {
      justify-content: center;
    }

    .footer-logo h4 {
      color: #1e293b;
    }

    .footer-col p {
      color: #64748b;
    }

    .footer-col h5 {
      color: #1e293b;
    }

    .footer-col a {
      color: #64748b;
    }

    .footer-col a:hover {
      color: #1e293b;
      transform: none;
    }

    .footer-bottom {
      border-top: 1px solid #e2e8f0;
      color: #94a3b8;
    }
  }
</style>
